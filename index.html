<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://rawgit.com/jeromeetienne/AR.js/1.7.2/aframe/build/aframe-ar.min.js"></script>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs>
      <a-marker type="pattern" url="flower-marker.patt">
        <!-- Bird sound -->
        <a-sound id="birdsound" src="birdsong.mp3" autoplay="false" loop="true"></a-sound>
        
        <!-- 3D Flower Model -->
        <a-entity gltf-model="flower_model.glb" position="0 0 0" scale="1 1 1"></a-entity>
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>
    
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var marker = document.querySelector('a-marker');
        var sound = document.querySelector('#birdsound');
        
        marker.addEventListener('markerFound', function() {
          sound.components.sound.playSound();
        });
        
        marker.addEventListener('markerLost', function() {
          sound.components.sound.stopSound();
        });
      });
    </script>
  </body>
</html>
